# Code Review Checklist

## 代码质量 (Code Quality)

### 可读性
- [ ] 变量、函数、类的命名是否清晰有意义？
- [ ] 代码逻辑是否容易理解？
- [ ] 是否有必要的注释（复杂逻辑、业务规则）？
- [ ] 代码格式是否符合项目规范？

### 复杂度
- [ ] 函数是否过长（>50行）或过于复杂？
- [ ] 是否有深层嵌套（>3层）？
- [ ] 是否有重复代码可以抽取？
- [ ] 循环和条件逻辑是否可以简化？

### 最佳实践
- [ ] 是否遵循 DRY (Don't Repeat Yourself) 原则？
- [ ] 是否遵循 SOLID 原则？
- [ ] 错误处理是否恰当？
- [ ] 日志记录是否充分？

## 架构设计 (Architecture & Design)

### 模块化
- [ ] 职责划分是否清晰？
- [ ] 模块耦合度是否合理？
- [ ] 接口设计是否合理？
- [ ] 是否有循环依赖？

### 可扩展性
- [ ] 设计是否容易扩展新功能？
- [ ] 是否使用了合适的设计模式？
- [ ] 配置是否外部化？
- [ ] 是否有硬编码的值需要配置化？

### 数据流
- [ ] 数据流向是否清晰？
- [ ] 状态管理是否合理？
- [ ] 是否有不必要的数据传递？
- [ ] 数据转换逻辑是否正确？

## 功能验证 (Functionality)

### 业务逻辑
- [ ] 功能是否符合需求？
- [ ] 边界条件是否处理正确？
- [ ] 业务规则是否完整实现？
- [ ] 是否有遗漏的场景？

### 错误处理
- [ ] 异常情况是否都被捕获？
- [ ] 错误信息是否清晰有用？
- [ ] 是否有合适的降级策略？
- [ ] 失败回滚是否正确？

### 数据一致性
- [ ] 并发场景下数据是否一致？
- [ ] 事务边界是否正确？
- [ ] 是否有数据竞争问题？
- [ ] 缓存更新是否正确？

## 安全性 (Security)

### 输入验证
- [ ] 是否验证所有用户输入？
- [ ] 是否防范 SQL 注入？
- [ ] 是否防范 XSS 攻击？
- [ ] 是否防范 CSRF 攻击？

### 权限控制
- [ ] 是否进行了权限校验？
- [ ] 是否有越权访问风险？
- [ ] 敏感操作是否有二次验证？
- [ ] API 访问是否有限流？

### 数据安全
- [ ] 敏感数据是否加密存储？
- [ ] 密码/密钥是否明文暴露？
- [ ] 是否有敏感信息泄露（日志、错误信息）？
- [ ] 数据传输是否加密？

## 性能 (Performance)

### 数据库
- [ ] SQL 查询是否有 N+1 问题？
- [ ] 是否使用了合适的索引？
- [ ] 是否有慢查询？
- [ ] 批量操作是否优化？

### 资源使用
- [ ] 是否有内存泄漏？
- [ ] 大文件/数据是否分块处理？
- [ ] 是否有资源未释放（连接、文件句柄）？
- [ ] 循环中是否有不必要的操作？

### 缓存策略
- [ ] 是否应该使用缓存？
- [ ] 缓存失效策略是否合理？
- [ ] 是否有缓存穿透/雪崩风险？
- [ ] 缓存一致性如何保证？

## 测试 (Testing)

### 测试覆盖
- [ ] 是否有单元测试？
- [ ] 关键路径是否有测试覆盖？
- [ ] 边界条件是否有测试？
- [ ] 异常情况是否有测试？

### 测试质量
- [ ] 测试用例是否有意义？
- [ ] 测试是否独立且可重复？
- [ ] Mock/Stub 是否合理？
- [ ] 测试数据是否覆盖典型场景？

## 兼容性 (Compatibility)

### 向后兼容
- [ ] API 变更是否向后兼容？
- [ ] 数据库 schema 变更是否兼容？
- [ ] 是否有迁移脚本？
- [ ] 老版本客户端是否受影响？

### 依赖管理
- [ ] 新依赖是否必要？
- [ ] 依赖版本是否稳定？
- [ ] 是否有依赖冲突？
- [ ] License 是否兼容？

## 运维 (Operations)

### 可观测性
- [ ] 关键操作是否有日志？
- [ ] 是否有性能监控埋点？
- [ ] 错误是否有告警？
- [ ] 是否支持链路追踪？

### 部署
- [ ] 是否需要配置变更？
- [ ] 是否需要数据迁移？
- [ ] 回滚方案是否可行？
- [ ] 部署顺序是否有要求？

## 文档 (Documentation)

### 代码文档
- [ ] 复杂逻辑是否有注释？
- [ ] 公共 API 是否有文档？
- [ ] 特殊处理是否说明原因？
- [ ] TODOs/FIXMEs 是否合理？

### 外部文档
- [ ] 是否需要更新 API 文档？
- [ ] 是否需要更新用户手册？
- [ ] 是否需要更新运维文档？
- [ ] 变更记录是否完整？
